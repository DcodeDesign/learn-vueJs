<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Vue</title>
    <script type="text/javascript" src="../node_modules/vue/dist/vue.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
<div id="app" class="container">
    <div class="row">
        <div class="col-6">
            <div class="col-12">
                <hr />
                <div class="form-group">
                    <label>Vert : </label>
                    <input v-model="green" class="form-control" type="number" />
                </div>
                <hr />
                <div class="form-group">
                    <label>Bleu : </label>
                    <input v-model="blue" class="form-control" type="number" />
                </div>
                <hr />
                <div class="form-group">
                    <label>Rouge :</label>
                    <input v-model="red" class="form-control" type="number" />
                </div>
                <hr />
                <div class="col-12">
                    <button @click="saveSquare()" class="btn btn-primary">Sauvegarder</button>
                    <button @click="reset()" class="btn btn-secondary">Annuler</button>
                </div>
                <hr />
                <h3> Nombre de carr√©s : {{ nbrOfSquares }}</h3>
                <hr />
                <div class="col-12" v-if="nbrOfSquares" >
                    <div class="prevsquare" v-for="square in squares" :style="{ backgroundColor: square }" ></div>
                </div>
                <h5 v-else> Ajouter des couleurs !</h5>
            </div>
        </div>
        <div class="col-6">
            <div class="square mx-auto" ></div>
        </div>
    </div>
</div>
<script type="text/javascript">
    new Vue({
        el: '#app',
        data: {
            green: 0,
            blue: 0,
            red: 0,
            squares: []
        },
        methods: {
            resetColor() {
                this.red = this.green = this.blue = 0
            },
            saveSquare(){
                this.squares.push(`rgb(${this.red}, ${this.green}, ${this.blue})`)
                this.resetColor()
                console.log(this.squares)
            },
            reset(){
                this.resetColor()
                this.squares = []
                console.log(this.squares)
            }
        },
        computed: {
            nbrOfSquares() {
                return this.squares.length
            }
        }
    })
</script>
</body>
</html>
